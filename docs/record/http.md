# http相关 

## http和https
>http：超文本传输协议，客户端和服务端请求的应答标准，用于从服务端传输超文本到本地浏览器的传输协议
><br>
> https：是以安全为目标的http通道，依赖SSL加密，主要作用是：建立一个信息安全的通道，来保证数据传输、确保网站的真实性
## http和https的区别
> http传输的数据未加密，也是明文的，安全性低，https 采用ssl加密传输协议
> <br>
> http 默认端口是 80， https 默认端口是 443
> <br> https 需要ca证书，费用较高
> <br> http 的连接是无连接、无状态的。
> `无连接`每个访问都是无连接，服务器挨个处理队列例的访问，处理完一个就关闭连接，每次连接只处理一个请求。服务器处理完，并收到客户的应答后，断开连接
> <br> `无状态` 协议对于事务处理没有记忆能力，对同一个url的请求没有上下文关系，每次请求独立，且互不影响，服务器中没有保存客户端的状态
> <br><br>https协议是有SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，更加安全
> 
## https协议工作原理
> 客户端使用https的url请求与服务端建立ssl连接
> <br> 服务端收到请求后，将网站的证书(证书中包含了公钥)，返回给客户端
> <br> 客户端和服务端开始协商SSL连接的安全等级，也就是加密等级
> <br> 客户端浏览器通过协商一致的安全等级，建立会话密钥，然后通过公钥加密回话秘钥，并传送给网站
> <br> 服务端通过私钥解密出会话密钥。
> <br> 服务器通过回话秘钥加密与客户端之间的通信。
> 
## https 协议的优点
> 使用https协议可以认证用户和服务器，确保数据发送到正确的客户机和服务器。
> <br>比http更加安全，防止在数据传输的过程中被窃取、改变，确保数据的完整性。
> <br>增加中间人共计的成本。
## https 协议的缺点
> 握手阶段比较费时，延长页面加载时间50%，增点耗电量 10%~20%
> <br>缓存不如http高效，会增加数据开销
> <br>证书要钱，功能越强大的证书越贵。
> <br>证书需要绑定IP，不能再同一个ip上绑定多个域名，ipv4资源支持不了这种消耗
> 

## tcp三次握手
> 客户端和服务端都需知道自己可以收发数据，因此需要三次。
> 
## TCP 和UDP 的区别
> TCP 是面向连接的，发送数据前需要建立连接，UDP不需要建立连接立即发送数据。
> <br> TCP提供可靠的服务，通过TCP连接传送的数据，无差错，不重复，按需到达；
> <br> UDP尽最大努力提交数据，不保证可靠性。
> <br> TCP面向字节流，只能是一对一。UDP支持一对一，一对多。
> <br> UDP面向报文，网络出现阻塞不会使得发送的频率降低，因此会丢包，比如视频等应用
> <br> TCP的首部较大为20字节，而UDP只有8个字节。

## WebSocket
> WebSocket是HTML5中的协议，支持持久连接。基于Http协议，借用Http协议完成了一部分握手，在握手阶段与Http是相同的
> <br> 
> Upgrade: wwebSocket
<br> Connection: Upgrade

## 一个图片url访问后直接下载的实现
> 请求的返回头里面，用于浏览器解析的重要参数就是 OSS的API文档里面的返回http头，决定用户下载行为的参数。
> <br> 下载的情况：
> <br> <br> 1. x-oss-object-type: Normal
> <br> <br> 2. x-oss-request-id: xxxxxxxxx
> <br> <br> 3. x-oss-storage-class: Standard
> 

## HTTP状态码的含义
1. `100` Continue：客户端应继续其请求。
2. `101` Switching Protocols: 切换协议。
3. `200` OK 请求成功。
4. `201` Created 已创建。成功请求并创建了新的资源。
5. `202` Accepted 已接受。已经接受请求，但未处理完成。
6. `203` Non-Authoritative 非授权信息。请求成功。但返回的meta信息不再原始的服务器，而是一个副本
7. `204` No Content 无内容。服务器成功处理，但未返回内容
8. `205` Reset Content 重置内容。服务器处理成功，前端应重置文档视图。例如清除表单内容=
9. `206` Partial Content 服务器成功处理了部分GET请求。
10. `300` Multiple Choice 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表供用户选择
11. `301` Moved Permanently 永久移动
12. `302` Found 临时移动。应该继续使用原有的URI
13. `303` See Other 查看其他地址，类似301，使用GET和POST请求查看
14. `304` Not Modified 未修改。客户端访问缓存资源
15. `305` Use Proxy 使用代理。请求的资源必须通过代理访问
16. `307` Temporary Redirect 临时重定向。类似302，使用GET请求重定向
17. `400` Bad Request ...
18. `401` Unauthorized 请求要求用户的身份认证
19. `402` Payment Required 保留，将来使用
20. `403` Forbidden 无权访问
21. `404` Not Found 资源不存在。。
22. `405` Method Not Allowed 客户端请求中的方法被禁止
23. `406` Not Acceptable 服务器 无法根据客户端请求的内容特性完成请求
24. `408` Request Time-out 服务器等待客户端发送的请求时间过长，超时
25. `500` Internal Server Error 服务器内部错误，无法完成请求。
26. `501` Not Implemented 服务器不支持请求的功能，无法完成请求。
27. `502` Bad Gateway 作为网关或代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的相应
28. `503` Service Unavailable 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可能包含在服务器的Retry-After头信息中
29. `504` Gateway Time-out 充当文官或代理的服务器，未及时从远端服务器获取请求